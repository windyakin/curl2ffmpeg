{"version":3,"file":"index.ccdb6dc8.js","sources":["../../vite/modulepreload-polyfill","../../src/lib/CurlCommand.js","../../plugin-vue:export-helper","../../src/components/FFmpegCommand.vue","../../src/components/CommandConverter.vue","../../src/App.vue","../../src/main.js"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","export default class CurlCommand {\n  constructor(curlCommand) {\n    this.command = curlCommand\n    this.url = ''\n    this.headers = []\n    this.parseCommand()\n  }\n\n  parseCommand() {\n    const command = this.command;\n    command.split(' ').reduce((accumulator, current) => {\n      if (accumulator.flag) {\n        if (/^['\"]/.test(current)) {\n          accumulator.temp = current.replace(/^['\"](.*)$/, '$1')\n          accumulator.quote = this.judgeQuote(current[0])\n          return accumulator\n        }\n        if (/[^\\\\]['\"]$/.test(current) && this.judgeQuote(current.slice(-1)[0]) === accumulator.quote) {\n          const tmpCurrent = current.replace(/^(.*[^\\\\])['\"]$/, '$1')\n          this.headers.push(`${accumulator.temp} ${tmpCurrent}`)\n          accumulator.temp = ''\n          accumulator.flag = false\n        } else {\n          accumulator.temp = `${accumulator.temp} ${current}`\n        }\n        return accumulator\n      } else {\n        if (/^curl$/.test(current)) {\n          return accumulator\n        }\n        if (/^['\"]?https?:\\/\\/.*$/.test(current)) {\n          this.url = current.replace(/^['\"]/, '').replace(/['\"]$/, '')\n          return accumulator\n        }\n        if (/^-H$/.test(current)) {\n          accumulator.flag = true\n        }\n      }\n      return accumulator\n    }, {\n      temp: '',\n      flag: false,\n      quote: ''\n    })\n  }\n\n  judgeQuote(quote) {\n    switch (quote) {\n      case `\"`:\n        return 'double'\n      case `'`:\n        return 'single'\n    }\n  }\n}\n","\nexport default (sfc, props) => {\n  for (const [key, val] of props) {\n    sfc[key] = val\n  }\n  return sfc\n}\n","<template>\n  <div>\n    <div class=\"monospace\">\n      ffmpeg\n      <span v-if=\"headers.length > 0\">-headers </span>\n      <span v-for=\"(header, index) in headers\" :key=\"index\">'{{ header }}'<span v-if=\"headers.length - 1 !== index\">$'\\r\\n'</span></span>\n      -i '{{ url }}'\n      -c copy\n      {{ filename }}\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    url: {\n      type: String,\n      required: true\n    },\n    headers: {\n      type: Array,\n      default: []\n    },\n    filename: {\n      type: String,\n      required: true\n    }\n  }\n}\n</script>\n","<template>\n  <div>\n    <div class=\"card my-4\">\n      <div class=\"card-body\">\n        <form acton=\"#\" @submit.prevent=\"parseCommand\">\n          <div class=\"mb-3\">\n            <label for=\"command\" class=\"form-label\">cURL command</label>\n            <textarea v-model=\"command\" id=\"command\" class=\"form-control monospace\" rows=\"10\" />\n          </div>\n            <label for=\"command\" class=\"form-label\">Output file name</label>\n          <div class=\"mb-3\">\n            <input v-model=\"filename\" id=\"filename\" type=\"text\" class=\"form-control\" />\n          </div>\n          <button type=\"submit\" class=\"btn btn-primary\">Convert</button>\n        </form>\n      </div>\n    </div>\n\n    <div v-if=\"url\">\n      <div class=\"card bg-secondary text-white\">\n        <div class=\"card-header\">Result</div>\n        <div class=\"card-body\">\n          <FFMpegCommand :url=\"url\" :headers=\"headers\" :filename=\"filename\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport CurlCommand from '~/lib/CurlCommand.js'\nimport FFMpegCommand from '~/components/FFmpegCommand.vue'\n\nexport default {\n  components: {\n    FFMpegCommand\n  },\n  data() {\n    return {\n      command: '',\n      url: '',\n      headers: [],\n      filename: 'movie.mp4'\n    };\n  },\n  methods: {\n    parseCommand() {\n      this.url = ''\n      this.headers = ''\n      if (!this.command) {\n        return\n      }\n      const curlCommand = new CurlCommand(this.command.trim());\n      this.url = curlCommand.url;\n      this.headers = curlCommand.headers;\n    }\n  }\n}\n</script>\n\n<style>\n.monospace {\n  font-family: monospace;\n}\n</style>\n","<template>\n  <div class=\"container\">\n    <div class=\"row justify-content-center my-4\">\n      <div class=\"col col-8\">\n        <h1>curl2ffmpeg</h1>\n        <a href=\"https://github.com/windyakin/curl2ffmpeg\">GitHub Repository</a>\n        <CommandCoverter />\n      </div>\n    </div>\n    <div class=\"row justify-content-center my-4\">\n      <div class=\"col col-8 text-end\">\n        &copy; 2021 windyakin\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport CommandCoverter from '~/components/CommandConverter.vue'\n\nexport default {\n  components: {\n    CommandCoverter\n  }\n}\n</script>\n","import { createApp } from 'vue'\nimport App from '~/App.vue'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport 'bootstrap'\n\ncreateApp(App).mount('#app')\n"],"names":["_createElementBlock","_hoisted_5","_createElementVNode"],"mappings":"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"}